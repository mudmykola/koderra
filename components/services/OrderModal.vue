<script setup>import {ref} from 'vue'import {useI18n} from 'vue-i18n'import {useTelegramBot} from '~/composables/useTelegramBot'const {t} = useI18n()const props = defineProps({  isOpen: Boolean,  service: Object})const emits = defineEmits(['close'])const form = ref({  name: '',  email: '',  phone: '',  message: ''})const loading = ref(false)const success = ref(false)const {sendOrderMessage} = useTelegramBot()const resetForm = () => {  form.value = {name: '', email: '', phone: '', message: ''}  success.value = false}const close = () => {  emits('close')  resetForm()}const validate = () => {  const emailValid = /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(form.value.email)  const phoneValid = /^\+?\d{10,15}$/.test(form.value.phone.trim())  return form.value.name && emailValid && phoneValid}const submit = async () => {  if (!validate()) {    alert(t('orderModal.validationError'))    return  }  loading.value = true  try {    await sendOrderMessage({      name: form.value.name,      email: form.value.email,      phone: form.value.phone,      message: form.value.message,      service: props.service?.title    })    success.value = true    setTimeout(() => {      close()    }, 3000)  } catch (err) {    alert(t('orderModal.sendError'))  }  loading.value = false}</script><template>  <Teleport to="body">    <Transition name="fade">      <div v-if="isOpen" class="fixed inset-0 z-50 bg-black/80 backdrop-blur-sm">        <div class="fixed inset-0 overflow-y-auto flex items-center justify-center px-4 py-12">          <div              class="relative bg-brand-dark text-white p-8 rounded-2xl w-full max-w-lg shadow-xl animate-fadeInUp"          >            <button @click="close" class="absolute top-4 right-4 text-white text-xl">✕</button>            <h2 class="text-2xl font-bold mb-4">              {{ t('orderModal.orderTitle') }}: {{ service?.title }}            </h2>            <p class="text-white/60 mb-6">{{ service?.description }}</p>            <form @submit.prevent="submit" class="space-y-4">              <input                  v-model="form.name"                  type="text"                  :placeholder="t('orderModal.namePlaceholder')"                  class="w-full capitalize px-4 py-3 rounded-xl bg-white/10 border border-white/20 text-white placeholder-white/50"                  required              />              <input                  v-model="form.email"                  type="email"                  :placeholder="t('orderModal.emailPlaceholder')"                  class="w-full px-4 py-3 rounded-xl bg-white/10 border border-white/20 text-white placeholder-white/50"                  required              />              <input                  v-model="form.phone"                  type="tel"                  :placeholder="t('orderModal.phonePlaceholder')"                  class="w-full px-4 py-3 rounded-xl bg-white/10 border border-white/20 text-white placeholder-white/50"                  required              />              <textarea                  v-model="form.message"                  rows="4"                  :placeholder="t('orderModal.messagePlaceholder')"                  class="w-full capitalize px-4 py-3 rounded-xl bg-white/10 border border-white/20 text-white placeholder-white/50"              />              <button                  type="submit"                  class="relative w-full rounded-full bg-amber-600 p-[2px] bg-gradient-to-r from-brand via-brand-lime to-brand-lime shadow-md hover:shadow-brand-lime/50 transition-all duration-300 ease-in-out disabled:opacity-50 group overflow-hidden mt-6"                  :disabled="loading"              >                <div                    class="flex cursor-pointer items-center justify-center gap-2 w-full h-full px-6 py-3 rounded-full bg-brand-dark text-white font-heading text-lg font-semibold transition-all duration-300 ease-in-out group-hover:bg-brand/90"                >                  <template v-if="loading">                    <svg                        class="animate-spin h-5 w-5 text-white"                        xmlns="http://www.w3.org/2000/svg"                        fill="none"                        viewBox="0 0 24 24"                    >                      <circle                          class="opacity-20"                          cx="12"                          cy="12"                          r="10"                          stroke="currentColor"                          stroke-width="4"                      />                      <path class="opacity-70" fill="currentColor" d="M4 12a8 8 0 018-8v8H4z"/>                    </svg>                    <span>{{ t('orderModal.sending') }}</span>                  </template>                  <template v-else>                    <span                        class="transition-all duration-300 ease-in-out group-hover:tracking-wider"                    >                      {{ t('orderModal.send') }}                    </span>                    <span                        class="text-xl transition-transform duration-300 group-hover:translate-x-1"                    >                      ✉️                    </span>                  </template>                </div>              </button>            </form>            <Transition name="fade">              <div                  v-if="success"                  class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-black/90 text-white px-8 py-6 rounded-xl text-center shadow-xl backdrop-blur-lg z-50"              >                <p class="text-lg font-semibold mb-2">                  {{ t('orderModal.sentTitle') }}                </p>                <p class="text-white/70">                  {{ t('orderModal.sentDescription') }}                </p>              </div>            </Transition>          </div>        </div>      </div>    </Transition>  </Teleport></template><style lang="scss">.fade-enter-active,.fade-leave-active {  transition: opacity 0.3s ease;}.fade-enter-from,.fade-leave-to {  opacity: 0;}@keyframes fadeInUp {  from {    opacity: 0;    transform: translateY(30px);  }  to {    opacity: 1;    transform: translateY(0);  }}.animate-fadeInUp {  animation: fadeInUp 0.4s ease-out both;}</style>